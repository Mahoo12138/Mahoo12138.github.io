<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Win10子系统Ubuntu下配置Jupyter Notebook并实现内网穿透 [ Mahoo12138 ]</title><link rel="stylesheet" href="/css/index.css"><meta name="post"><link rel="stylesheet" href="/css/layouts/post.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="hexo-container"><header></header><main id="content"><article id="post"><h1>Win10子系统Ubuntu下配置Jupyter Notebook并实现内网穿透</h1><p>之前看到有朋友在服务器上，搭建了<a target="_blank" rel="noopener" href="https://jupyter.org/">Jupyter Notebook</a>（一个笔记本，支持多种编程语言），觉得挺好的，自己也想弄个用用，无奈没有服务器，只好另寻他径。</p>
<h2 id="启用Win10子系统"><a href="#启用Win10子系统" class="headerlink" title="启用Win10子系统"></a>启用Win10子系统</h2><p>网络上有很多教程，就不赘述了:</p>
<ul>
<li><a href="%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%90%AF%E7%94%A8Win10%E7%9A%84Linux%E5%AD%90%E7%B3%BB%E7%BB%9F">手把手教你启用Win10的Linux子系统</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/c3025989c28c">Win10上体验Linux子系统–Linux虚拟机的完美替代方案</a></li>
</ul>
<h2 id="安装Jupyter-Notebook"><a href="#安装Jupyter-Notebook" class="headerlink" title="安装Jupyter Notebook"></a>安装Jupyter Notebook</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>在子系统中选择用python来安装jupyter，因为Ubuntu自带了python3</p>
<ol>
<li><p>将pip升级到最新版本</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade pip</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装Jupyter Notebook</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install jupyter</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>配置的过程中如有疑问，请查阅官方文档，命令如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --help</span><br></pre></td></tr></table></figure>

<h4 id="默认端口启动"><a href="#默认端口启动" class="headerlink" title="默认端口启动"></a>默认端口启动</h4><p>安装完成后，在终端输入命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure>

<p>执行命令后，在终端中会有一些提示信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[I 00:09:44.222 NotebookApp] Serving notebooks from local directory: /home/mahoo12138</span><br><span class="line">[I 00:09:44.223 NotebookApp] The Jupyter Notebook is running at:</span><br><span class="line">[I 00:09:44.224 NotebookApp] http://localhost:8888/</span><br><span class="line">[I 00:09:44.225 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).</span><br></pre></td></tr></table></figure>

<ul>
<li>注意：之后在Jupyter Notebook的所有操作，都请保持终端<strong>不要关闭</strong>，因为一旦关闭终端，就会断开与本地服务器的链接，jupyter notebook也就关闭了。</li>
<li>此时在浏览器中打开**<code>http://localhost:8888</code>**，即可看到jupyter notebook</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/mahoo12138/js-css-cdn/hexo-images/tutorials/jupyter/localhost.png"></p>
<h4 id="指定端口启动"><a href="#指定端口启动" class="headerlink" title="指定端口启动"></a>指定端口启动</h4><p>如果你想指定端口启动，可输入以下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --port &lt;port_number&gt;</span><br></pre></td></tr></table></figure>

<h4 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h4><ul>
<li><p>终端修改</p>
<ul>
<li><p>生成配置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br></pre></td></tr></table></figure>
</li>
<li><p>生成密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook password</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/mahoo12138/js-css-cdn/hexo-images/tutorials/jupyter/password.png"></p>
</li>
</ul>
</li>
<li><p>文件修改</p>
<ul>
<li>Win10子系统Ubuntu的目录在<em>C:\Users\用户名\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\LocalState\rootfs\home</em></li>
</ul>
<p>在<strong>home</strong>中打开<em>Ubuntu用户名</em> \ .jupyter\jupyter_notebook_config.py文件，如果你准备远程访问，可以定位到<em>c.NotebookApp.allow_remote_access</em>，删除**#<strong>，修改值为</strong>True**</p>
<p><img src="https://cdn.jsdelivr.net/gh/mahoo12138/js-css-cdn/hexo-images/tutorials/jupyter/allow_amote_access.png"></p>
</li>
</ul>
<h2 id="远程访问-Jupyter-Notebook"><a href="#远程访问-Jupyter-Notebook" class="headerlink" title="远程访问 Jupyter Notebook"></a>远程访问 Jupyter Notebook</h2><h3 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h3><p>由于是在本地搭建的 Jupyter Notebook，在外网上是访问不了的，如果想远程访问的话，需要内网穿透，这里推荐使用**<a target="_blank" rel="noopener" href="https://natapp.cn/">NATAPPP</a>**，注册后会有两条免费的隧道使用，配置如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/mahoo12138/js-css-cdn/hexo-images/tutorials/jupyter/natapp.png"></p>
<ul>
<li><p>之后下载客户端：<a target="_blank" rel="noopener" href="https://natapp.cn/#download">直达链接</a></p>
</li>
<li><p>打开客户端，输入*natapp -authtoken&#x3D;(之前复制的字符)*，回车</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">natapp -authtoken=255bf538d7b773f6</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/mahoo12138/js-css-cdn/hexo-images/tutorials/jupyter/natapp_ok.png"></p>
</li>
</ul>
<p>图中的地址就是外网访问地址了，当然要保持 Ubuntu 子系统客户端和 Natapp 客户端同时运行，Jupyter Notebook才能打开，还有一个体验极差的设置，免费的内网穿透隧道会不定时更换地址，如果真的需要长时间运行，付费版才是王道。</p>
<p>更新：推荐使用自己的 Frp 进行内网穿透，或者是公益的 Sakura Frp。</p>
</article><div id="paginator"></div></main><footer><div class="icon-wrapper in-left"><button class="icon-button" aria-label="change theme"><span class="icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" height="100%" width="100%"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></span></button></div><div class="icon-wrapper in-right"><button class="icon-button" aria-label="change theme"><span class="icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" height="100%" width="100%"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg></span></button></div><p class="copyright-text"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noreferrer">CC BY-NC-SA 4.0</a><span>·</span><a href="https://github.com/ttttonyhe/ouorz-mono" target="_blank" rel="noreferrer">Open Source Software (OSS)</a></p></footer><script src="/js/ouo.js"></script></div></body></html>